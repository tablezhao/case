# 趋势概览模块功能说明

## 模块概述

趋势概览模块位于"趋势分析"页面顶部，在"通报排名"模块之上，提供当前监管态势的快速概览。

## 核心功能

### 1. 当月通报风险等级

**功能描述**：
- 动态展示用户访问时所处月份的通报风险等级
- 根据当月全部监管部门的通报总频次自动判定风险级别

**风险等级划分**：
- 🔴 **高风险**（红色）：当月全部监管部门通报总频次 > 5次
- 🟠 **中风险**（橙色）：当月全部监管部门通报总频次 > 1次 且 ≤ 5次
- 🔵 **低风险**（蓝色）：当月全部监管部门通报总频次 ≤ 1次

**展示内容**：
- 风险等级标签（带颜色标识）
- 当前月份
- 通报频次数值
- 统计口径说明（Tooltip）

### 2. 本年通报高频时段

**功能描述**：
- 展示本年度内通报活动频繁的月份
- 帮助用户识别监管活动的高峰期

**统计规则**：
- 统计范围：本年度1月至当前月份
- 筛选条件：仅展示当月全部监管部门通报频次 ≥ 5次的月份
- 排序方式：按通报频次降序排列

**展示内容**：
- 高频月份列表
- 每个月份的通报频次
- 统计口径说明（Tooltip）

### 3. 高频通报部门

**功能描述**：
- 按月度和年度两个维度展示通报频次最高的监管部门
- 帮助用户了解哪些部门监管活动最活跃

**统计维度**：
- **月度前三**：当前月份内通报频次最多的前三个部门
- **年度前三**：本年度1月至当前月份内累计通报频次最多的前三个部门

**展示内容**：
- 部门名称
- 通报频次
- 月度/年度分类展示
- 统计口径说明（Tooltip）

### 4. 高频被通报平台

**功能描述**：
- 按月度和年度两个维度展示被通报应用最多的平台
- 帮助用户了解哪些平台的应用更容易被通报

**统计维度**：
- **月度前三**：当前月份内被通报应用所属平台出现频次最高的前三个
- **年度前三**：本年度1月至当前月份内累计被通报应用所属平台出现频次最高的前三个

**展示内容**：
- 平台名称
- 被通报次数
- 月度/年度分类展示
- 统计口径说明（Tooltip）

## 设计特点

### 视觉风格
- 与首页"数据概览"模块保持一致的设计风格
- 使用渐变背景和边框增强视觉层次
- 不同指标使用不同的主题色区分
- 风险等级使用明显的颜色标识（红/橙/蓝）

### 交互体验
- 每个指标卡片都有Tooltip说明统计口径
- 响应式布局：
  - 大屏（lg）：4列网格布局
  - 中屏（md）：2列网格布局
  - 小屏：单列堆叠布局
- 加载状态使用骨架屏提升用户体验

### 数据更新
- 页面加载时自动获取最新数据
- 所有数据根据系统时间动态计算
- 确保数据的实时性和准确性

## 技术实现

### API接口
- `getTrendOverview()`：获取趋势概览所有数据
  - 自动计算当前年份和月份
  - 并行查询多个数据维度
  - 返回结构化的概览数据

### 组件结构
- `TrendOverviewSection`：趋势概览主组件
  - 接收数据和加载状态
  - 渲染四个核心指标卡片
  - 处理空数据和加载状态

### 数据流
1. 页面加载时调用`loadTrendOverviewData()`
2. 调用API获取数据
3. 更新状态并传递给组件
4. 组件根据数据渲染UI

## 使用场景

1. **快速了解当前监管态势**：通过风险等级快速判断当前监管强度
2. **识别监管高峰期**：通过高频时段了解监管活动的时间规律
3. **关注重点监管部门**：了解哪些部门监管活动最活跃
4. **识别高风险平台**：了解哪些平台的应用更容易被通报

## 优化特性

1. **性能优化**：
   - 使用Set数据结构去重，提高统计效率
   - 并行查询多个数据维度，减少等待时间
   - 前端缓存数据，避免重复请求

2. **用户体验优化**：
   - 清晰的统计口径说明
   - 直观的视觉标识
   - 响应式布局适配各种设备
   - 友好的空数据提示

3. **数据准确性**：
   - 严格的统计逻辑
   - 明确的时间范围
   - 准确的数据计算
