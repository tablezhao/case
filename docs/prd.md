# App监管案例查询平台升级需求文档

## 1. 网站概述

### 1.1 网站名称
合规通

### 1.2 网站描述
构建一个信息透明、查询便捷的平台，用于展示各级网络监管部门发布的App违规监管案例和监管资讯。通过数据可视化清晰呈现监管动态、地域分布及违规类型趋势，同时提供强大的后台数据管理能力和智能案例导入功能，确保信息的准确性和时效性。

## 2. 功能需求

### 2.1 前端用户界面功能

#### 2.1.1 首页核心模块

##### 2.1.1.1 数据概览（核心数据总览面板）

- 本月通报频次及涉及应用数量
- 本季度通报频次及涉及应用数量
- 本年度通报频次及涉及应用数量
- 累计通报案例总数展示
- 累计涉及的应用总数统计
- 最近一次通报的发布日期显示
- 最近一次通报的监管部门名称展示

注：所有时间维度（本月、本季度、本年度）下的通报频次和涉及应用统计逻辑、计算口径必须严格保持一致

##### 2.1.1.2 趋势总览

**模块部署信息**：
- 模块名称：趋势总览
- 页面位置：趋势分析页，置于「通报排名」模块之上

**视觉与交互规范**：
- 模块的整体视觉样式、设计风格及交互逻辑需与首页的「数据概览」模块保持一致

**模块核心指标定义**：

**1. 当月通报风险等级**
- 数据时效：动态获取并展示用户访问系统时所处实时月份的数据
- 等级划分与标准：
  - 高风险（红色标识）：当月全部监管部门的通报总频次 > 5次
  - 中风险（橙色标识）：当月全部监管部门的通报总频次 > 1次 且 ≤ 5次
  - 低风险（蓝色标识）：当月全部监管部门的通报总频次 ≤ 1次
- 需在展示旁清晰标注此统计口径

**2. 本年通报高频时段**
- 统计范围：本年度1月至当前月份
- 展示内容：列出本年度内通报活动发生频繁的月份
- 筛选条件：仅展示「当月全部监管部门通报频次 ≥ 5次」的月份
- 需在展示旁清晰标注此统计口径

**3. 高频通报部门**
- 展示内容：按月度和年度两个维度，分别展示通报频次排名前三的监管部门
- 统计维度：
  - 月度前三：统计当前月份内，通报频次最多的前三个部门
  - 年度前三：统计本年度1月至当前月份内，累计通报频次最多的前三个部门
- 需在展示旁清晰标注此统计口径

**4. 高频被通报平台**
- 展示内容：按月度和年度两个维度，分别展示被通报应用所涉及的前三多的应用平台
- 统计维度：
  - 月度前三：统计当前月份内，被通报应用所归属的平台中，出现频次最高的前三个平台
  - 年度前三：统计本年度1月至当前月份内，被通报应用所归属的平台中，累计出现频次最高的前三个平台
- 需在展示旁清晰标注此统计口径

**开发实现要求**：
- 依据以上需求，完成「趋势总览」模块的前端页面开发与后端数据接口联调
- 确保所有数据均可根据系统时间动态更新，展示准确无误
- 优化数据获取逻辑以保证前端页面加载效率，避免响应延迟

##### 2.1.1.3 重点问题概览

- **模块定位**：集中展示通报问题中最需要关注的重点问题或高频问题
- **模块标题**：**重点问题概览**（使用二级标题格式，加粗显示）
- **核心内容**：采用表格形式呈现，包含以下列：
  - 问题标题（加粗显示）
  - 频次数据（颜色标签标识）
  - 状态标识（启用/禁用开关）
- **频次标识规则**：
  - 红色标签：重要（频次 ≥ 50次）
  - 橙色标签：一般（频次30- 49次）
  - 黄色标签：关注（频次 10 - 29次）
  - 蓝色标签：低频（频次 1 - 9次）
- **显示设置**：默认展示前10个高频问题，模块整体保持高度紧凑，确保内容的可读性
- **操作功能**：支持后台配置管理，可对问题条目进行启用/禁用控制

##### 2.1.1.4 监管部门分布

- 各通报部门出现频次分布图（饼图/柱状图）
- 热点违规问题词云

##### 2.1.1.5 近期监管资讯

- 展示最新发布的监管资讯列表
- 包含资讯标题、发布日期、发布部门
- 提供〖查看详情〗链接跳转到完整资讯内容

#### 2.1.2 年度月度趋势图展示模块
\n- **功能定位**：
  - 独立的趋势分析模块，与后台首页配置中的〖年度月度趋势图〗配置项完全对应
  - 可通过后台配置控制该模块在前台的显示/隐藏状态

- **核心功能**：
  - 使用折线图展示年度和月度通报案例数量的时间趋势
  - 提供年度视图和月度视图的切换功能
  - 年度视图：展示多年度通报案例总量对比趋势
  - 月度视图：展示选定年度内各月份通报案例数量变化
  - 支持图表交互：鼠标悬停显示具体数值，点击数据点可下钻查看对应时间段的案例列表

- **数据展示要求**：
  - 图表自适应页面布局，支持响应式设计
  - 数据实时更新，延迟不超过设定的数据更新周期
  - 提供数据导出功能（Excel/CSV格式）

- **视觉设计**：
  - 图表配色与整体设计风格保持一致
  - 清晰标注坐标轴、图例和数据标签
  - 时间轴支持拖拽缩放功能

#### 2.1.3 数据可视化分析模块

- 各通报部门出现频次分布图（饼图/柱状图）
- 热点违规问题词云

#### 2.1.4 案例详情查询系统

- **关键词检索功能**：
  - 在案例查询页面顶部显著位置设置搜索框
  - 支持输入关键词检索案例标题、摘要、编号等核心文本信息
  - 用户可通过点击〖搜索〗按钮或按下回车键触发检索
  - 提供清空输入框的快捷按钮
  - 检索后页面刷新，仅展示包含关键词的案例列表
  - 无匹配结果时显示〖未找到相关案例〗提示

- 可排序、可分页的案例列表展示
- 案例条目包含信息：通报发布日期、被通报应用名称、应用开发者/运营者、发出通报的监管部门全称、应用来源平台、主要违规问题摘要
- 操作按钮：〖查看详情〗（模态框或新页面详细违规内容）、〖原文链接〗（新窗口打开官方原始通报网页）

#### 2.1.5 监管资讯查询系统

- 可排序、可分页的监管资讯列表展示
- 案例条目包含信息：监管资讯发布日期、发出监管资讯的监管部门、监管资讯摘要
- 操作按钮：〖查看详情〗（模态框或新页面详细监管资讯内容）、〖原文链接〗（新窗口打开官方原始通报网页）

#### 2.1.6 违规问题分析模块

- **功能定位**：
  - 集成在趋势分析页面内，作为独立的〖违规问题分析〗面板或标签页
  - 从宏观趋势深入到微观归因，帮助运营人员快速定位问题根源

- **多维度分析指标**：
  - **违规类型分析**：统计各类违规（如内容违规、行为违规、交易违规等）的数量、占比及变化趋势
  - **用户群体分析**：按用户属性（如新/老用户、会员等级、注册渠道等）分析违规分布情况
  - **时间趋势分析**：按小时、日、周等不同粒度，分析违规发生的时间规律
  - **内容/场景分析**：分析违规高发的具体内容板块、功能场景或商品类别
  - **严重程度分析**：按违规的严重等级（如轻度、中度、严重）进行划分和统计

- **数据可视化与交互**：
  - 使用组合图表呈现分析结果：
    + 饼图展示违规类型分布
    + 柱状图展示时间趋势
    + 表格展示明细数据
  - 支持数据下钻功能：点击某类违规的统计数字，可查看对应的违规记录列表
  - 提供数据筛选功能：支持按维度自由组合筛选（如选择特定时间范围、违规类型、用户群体等）

- **非功能性要求**：
  - 数据展示接近实时，延迟不超过设定的数据更新周期
  - 界面设计与现有趋势分析页面保持风格一致

#### 2.1.7 监管部门趋势分析模块

- **功能定位**：
  - 位于趋势分析页面通报排名模块下方，通过分隔线清晰区分
  - 用于对比分析不同监管部门历史通报应用数量的变化趋势
  - 采用卡片式布局，功能区域划分明确

- **核心功能**：
  - **部门选择**：提供独立的部门选择器，支持多选（最多5个部门），使用徽章组件展示选中部门，视觉效果清晰
  - **数据维度筛选**：支持按年统计或全部数据两种维度切换
  - **年份选择**：当选择年维度时，显示年份选择器
  - **实时数据更新**：选择部门或切换维度后自动重新加载数据

- **API接口**：
  - 创建专用的 getDepartmentApplicationTrend API函数
  - 支持按年统计或全部数据维度筛选
  - 可获取指定监管部门的历史通报应用数量数据
  - 返回按日期分组的结构化数据

- **数据状态管理**：
  - applicationTrendData：存储趋势数据
  - selectedApplicationDataDimension：数据维度选择（年维度/全部数据）
  - selectedTrendDepartments：用于趋势对比的部门选择
  - applicationTrendLoading：加载状态管理
  - 实现独立的部门选择逻辑，与原有的部门选择互不干扰

- **可视化展示**：
  - **响应式折线图**：
    + 支持多条趋势线对比，不同部门使用不同颜色区分
    + 标注关键数据点
    + 日期轴自动倾斜排版，避免重叠
    + 鼠标悬停显示详细数据
    + 清晰的图例说明和坐标轴标签
  - **详细数据表格**：显示每个日期的具体数值和合计

- **交互设计**：
  - 提供空状态提示和加载状态显示
  - 错误处理机制
  - 与趋势分析页面其他功能和谐共存

#### 2.1.8 模块可见性响应规则

- 前端根据后台模块管理配置动态控制各功能模块的显示状态
- 当某模块被后台关闭时，其对应的导航入口、页面链接或内容区域对用户完全隐藏
- 前端布局自适应调整，隐藏模块后页面自动优化排版，避免出现空白区域
- 支持实时响应后台配置变更，无需刷新页面即可生效

### 2.2 后台管理系统功能

#### 2.2.1 智能案例导入中心

- **多模态输入支持**：
  - **文本输入**：用户可直接粘贴或输入一段文字描述，系统自动识别并提取关键信息
  - **图片上传**：支持JPG、PNG等图片格式，AI模型识别图片中的文字信息并提取
  - **PDF文档上传**：支持PDF文件，自动解析文档内容提取结构化数据

- **AI信息处理流程**：
  - 集成多模态理解大模型插件，自动识别输入内容中的关键信息
  - 提取当事人姓名、时间、地点、事件描述等预设字段信息
  - 自动填充到案例编辑界面的对应位置
  - 提供清晰的预览界面供用户核对和手动修改

- **批量处理能力**：
  - 支持同时处理多个输入源
  - 批量提取和填充案例信息
  - 批量导入到数据库

#### 2.2.2 案例数据管理中心

- 案例数据完整CRUD操作界面
- 支持上传Excel/CSV文件批量导入数据
- 支持筛选或全部数据导出为常用格式文件

- **监管部门与应用平台快速新增功能**：
  - 在案例编辑界面中，〖监管部门〗和〖应用平台〗字段采用可输入的下拉选择框
  - 当用户输入的部门或平台名称在系统中不存在时，下拉列表自动显示〖新增：[用户输入名称]〗选项
  - 用户选择新增选项后，系统自动将该名称作为新记录保存至〖部门与平台〗管理模块的对应分类中
  - 新增操作无需离开当前编辑页面，保存案例时同步完成新记录的创建
  - 操作完成后显示成功提示，告知用户新记录已保存至主数据模块
  - 新增的部门或平台记录初始仅包含名称字段，后续可在〖部门与平台〗管理模块中补充完善详细信息

- **案例筛选与检索功能**：
  - 在案例管理页面顶部设置筛选区域，提供以下筛选条件：
    + 通报日期范围选择（起始日期-结束日期）
    + 监管部门下拉选择框（支持多选或单选）
    + 应用平台下拉选择框（支持多选或单选）
    + 应用名称/开发者文本输入框
  - 提供关键词检索功能：
    + 在筛选区域设置搜索框，支持输入关键词检索案例标题、摘要、编号、违规内容等字段
    + 用户可通过点击〖搜索〗按钮或按下回车键触发检索
    + 提供〖重置〗按钮清空所有筛选条件和关键词
  - 筛选和检索可组合使用，结果实时更新案例列表
  - 筛选或检索后的列表仍支持排序和分页功能
  - 无匹配结果时显示〖未找到符合条件的案例〗提示\n
- **批量操作功能**：
  - **全部案例导出**：提供导出所有案例数据的功能，支持Excel、CSV等常用格式
  - **批量修改**：支持同时修改多个案例的相同字段
    + 支持批量修改通报日期
    + 支持批量修改其他案例基本信息
  - **批量删除**：支持选择多个案例进行批量删除操作
  - **操作确认**：批量操作前需进行二次确认，确保操作的安全性
  - **操作记录**：记录批量操作的日志，包括操作时间、操作人、操作详情等信息

#### 2.2.3 监管资讯管理中心

- 案例数据完整CRUD操作界面
- 支持上传Excel/CSV文件批量导入数据
- 支持筛选或全部数据导出为常用格式文件

#### 2.2.4 前台模块可见性管理中心

- **功能定位**：
  - 提供集中的模块管理界面，用于控制前台各功能模块的显示/隐藏状态
  - 管理员可独立控制每个模块的可见性，实现灵活的页面布局管理

- **可控模块列表**：
  - 数据概览（核心数据总览面板）
  - 趋势总览
  - 重点问题概览
  - 监管部门分布
  - 近期监管资讯
  - 案例查询模块
  - 监管资讯模块
  - 监管部门模块
  - 趋势分析模块
  - 问题分析模块

- **管理界面设计**：
  - 采用列表式布局，每个模块独立成行
  - 每行显示模块名称和状态开关（Toggle按钮或复选框）
  - 开关状态清晰标识：开启（蓝色/绿色）、关闭（灰色）
  - 支持批量操作：全部开启、全部关闭功能按钮

- **操作规则**：
  - 点击开关按钮即时切换模块状态
  - 状态变更后自动保存至数据库，无需额外确认
  - 操作后显示简洁的成功提示（〖模块状态已更新〗）
  - 前台同步响应配置变更，延迟不超过设定的缓存