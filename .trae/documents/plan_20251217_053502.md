## 修复后台案例管理界面的"导出全部数据"功能

### 问题分析

1. **当前实现逻辑**：
   - `handleExportAll` 函数调用 `searchCases` 函数，传入 `pageSize: total` 来获取全部数据
   - `searchCases` 函数使用 Supabase RPC 函数 `search_cases` 获取数据
   - 实际仅能导出1000条数据，而非系统中存储的全部案例数据

2. **问题原因**：
   - Supabase RPC 函数 `search_cases` 可能有默认的结果数量限制（如1000条）
   - 前端导出逻辑没有处理大量数据的分批获取与合并
   - 没有实现数据超过限制时的分页获取机制

### 修复方案

1. **优化前端导出逻辑**：
   - 实现分批获取数据的逻辑，当数据量超过限制时，多次调用 API 获取全部数据
   - 合并所有批次的数据，确保所有数据都能被正确导出
   - 优化导出性能，避免内存溢出或超时问题

2. **修改 `handleExportAll` 函数**：
   - 实现分批获取数据的机制
   - 每次调用 API 获取固定数量的数据（如1000条）
   - 合并所有批次的数据
   - 最终导出完整的数据集

3. **优化性能**：
   - 使用异步处理，避免阻塞主线程
   - 实现进度反馈，提升用户体验
   - 优化内存使用，避免内存溢出

### 修复步骤

1. **修改 `handleExportAll` 函数**：
   - 添加分批获取数据的逻辑
   - 实现数据合并机制
   - 添加进度反馈
   - 修改文件：`src/pages/admin/CaseManagePage.tsx`

2. **测试修复效果**：
   - 使用包含超过1000条记录的测试数据集
   - 验证导出功能是否能导出全部数据
   - 测试系统性能，确保在处理大量数据时仍能稳定运行

3. **优化导出性能**：
   - 实现异步处理
   - 优化内存使用
   - 添加进度反馈

### 预期效果

- 能够导出系统中的全部案例数据，不受1000条限制
- 导出过程稳定，不会出现内存溢出或超时问题
- 提供良好的用户体验，包括进度反馈
- 保持系统性能稳定

### 修复文件

- `src/pages/admin/CaseManagePage.tsx`