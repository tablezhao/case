## 修复监管部门分布数据显示异常问题

### 问题分析

经过重新检查，我发现之前的修复存在逻辑错误：

1. **聚合查询语法问题**：使用了`cases:cases(count)`关联查询语法
2. **数据处理错误**：将聚合查询结果当作数组处理，使用`dept.cases.length`计算案例数量
3. **导致每个部门案例数量显示为1**：因为每个部门的`cases`字段是一个包含`count`的对象，而不是数组，数组长度始终为1

### 修复方案

1. **修复关联查询语法**：使用正确的聚合查询方式
2. **修复数据处理逻辑**：正确获取案例数量
3. **测试验证**：确保每个部门的案例数量正确显示

### 修复步骤

1. 修改`getNationalDepartmentDistribution`函数：
   - 修复关联查询语法，使用正确的聚合查询方式
   - 修复数据处理逻辑，直接从聚合结果中获取案例数量

2. 修改`getProvincialDepartmentDistribution`函数：
   - 应用相同的修复逻辑

3. 测试修复效果：
   - 运行开发服务器查看效果
   - 验证"工业和信息化部"和"公安部计算机信息系统安全产品质量监督检验中心"的数据是否正确显示
   - 验证其他部门数据是否不受影响

### 预期效果

- 每个部门的案例数量正确显示，不再是固定的1
- "工业和信息化部"显示314个案例
- "公安部计算机信息系统安全产品质量监督检验中心"显示正确数量
- 其他部门数据不受影响

### 修复文件

- `src/db/api.ts`：修改`getNationalDepartmentDistribution`和`getProvincialDepartmentDistribution`函数