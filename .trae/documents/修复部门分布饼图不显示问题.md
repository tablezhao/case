## 问题分析
部门分布饼图不显示的根本原因是数据格式不匹配：
- Supabase RPC函数 `get_department_distribution_stats()` 返回的数据结构中，部门数据使用 `value` 字段
- PieChart组件期望的数据格式是 `{ name: string; count: number }[]`，即使用 `count` 字段
- 这导致PieChart组件无法正确解析数据，从而无法渲染图表

## 修复方案
修改 `getDepartmentDistributionOptimized()` 函数，在客户端进行字段转换，将 `value` 字段转换为 `count` 字段，以匹配PieChart组件的期望格式。

## 修复步骤
1. 修改 `src/db/api-optimized.ts` 中的 `getDepartmentDistributionOptimized()` 函数
2. 在返回结果前，将 `national` 和 `provincial` 数组中的 `value` 字段转换为 `count` 字段
3. 确保转换后的格式符合PieChart组件的要求

## 预期效果
- 国家级部门分布饼图正常显示
- 省级部门分布饼图正常显示
- 保持RPC函数和PieChart组件的兼容性
- 不影响其他使用这些组件和函数的地方