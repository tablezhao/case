# 数据与功能调整任务清单

## 1. 后台监管部门页面数据修正
- [x] 核查并修复"累计通报频次"数据
- [x] 核查并补充"相关应用总数"数据

## 2. 后台应用平台页面功能增强
- [x] 增加"累计通报频次"数据展示模块
- [x] 增加"相关应用总数"数据展示模块

## 3. 前台监管部门页面功能同步
- [x] 增加"累计通报频次"数据展示
- [x] 增加"相关应用总数"数据展示

## 4. 测试验证
- [x] 后台监管部门页面数据准确性测试
- [x] 后台应用平台页面功能测试
- [x] 前台监管部门页面功能测试
- [x] 前后台数据一致性验证

## 完成情况总结

### API函数增强
1. ✅ 创建 `getDepartmentsWithStats()` - 获取部门统计数据
2. ✅ 创建 `getNationalDepartmentsWithStats()` - 获取国家级部门统计数据
3. ✅ 创建 `getProvincialDepartmentsWithStats()` - 获取省级部门统计数据
4. ✅ 创建 `getPlatformsWithStats()` - 获取平台统计数据

### 后台管理页面更新
1. ✅ 后台监管部门页面 (`/src/pages/admin/DepartmentsPage.tsx`)
   - 添加累计通报频次列
   - 添加相关应用总数列
   - 使用图标和颜色区分不同数据类型
   - 数据实时准确显示

2. ✅ 后台应用平台页面 (同一文件的平台标签页)
   - 添加累计通报频次列
   - 添加相关应用总数列
   - 保持与部门页面一致的样式

### 前台展示页面更新
1. ✅ 前台监管部门页面 (`/src/pages/DepartmentsPage.tsx`)
   - 国家级部门卡片添加统计数据展示
   - 省级部门卡片添加统计数据展示
   - 使用卡片式布局，数据清晰醒目
   - 统计数据包含图标、数值和单位

### 数据准确性保证
- ✅ 累计通报频次：通过 `count` 查询精确统计
- ✅ 相关应用总数：通过 `Set` 去重确保准确性
- ✅ 前后台使用相同的API函数，确保数据一致性
- ✅ 所有代码通过 ESLint 检查

### 界面设计特点
- ✅ 使用 FileText 图标表示通报频次
- ✅ 使用 AppWindow 图标表示应用总数
- ✅ 使用主题色区分不同数据类型
- ✅ 数字加粗显示，配合单位文字
- ✅ 后台使用表格布局，前台使用卡片布局
- ✅ 响应式设计，适配不同屏幕尺寸
